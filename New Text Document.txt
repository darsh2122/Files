import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

public static boolean validateString(String str, int maxLength, int exactLength, boolean validateMaxLength, boolean validateExactLength, String expectedFormat) {
    if (str == null) {
        return false;
    }
    
    if (validateMaxLength && str.length() > maxLength) {
        return false;
    }
    
    if (validateExactLength && str.length() != exactLength) {
        return false;
    }
    
    SimpleDateFormat sdf = new SimpleDateFormat(expectedFormat);
    sdf.setLenient(false);
    
    try {
        Date date = sdf.parse(str);
        String formattedDate = sdf.format(date);
        
        return str.equals(formattedDate);
    } catch (ParseException e) {
        return false;
    }
}
